<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel â€“ SmartCity Solapur</title>
    <meta name="description"
        content="Admin control panel for Solapur Smart City traffic and parking management system." />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Orbitron:wght@400;700;900&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/dashboard.css" />
</head>

<body>
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-brand">
                <div class="brand-icon"><svg viewBox="0 0 40 40" fill="none">
                        <circle cx="20" cy="20" r="18" stroke="url(#gadm1)" stroke-width="2" />
                        <path d="M10 28 L15 16 L20 22 L25 14 L30 28" stroke="url(#gadm2)" stroke-width="2.5"
                            stroke-linecap="round" stroke-linejoin="round" />
                        <circle cx="20" cy="12" r="3" fill="#00d4ff" />
                        <defs>
                            <linearGradient id="gadm1" x1="0" y1="0" x2="40" y2="40">
                                <stop offset="0%" stop-color="#00d4ff" />
                                <stop offset="100%" stop-color="#7c3aed" />
                            </linearGradient>
                            <linearGradient id="gadm2" x1="0" y1="0" x2="40" y2="40">
                                <stop offset="0%" stop-color="#00d4ff" />
                                <stop offset="100%" stop-color="#a855f7" />
                            </linearGradient>
                        </defs>
                    </svg></div>
                <div class="brand-text"><span class="brand-main">SmartCity</span><span class="brand-sub">Solapur</span>
                </div>
            </a>
            <div class="nav-links" id="navLinks">
                <a href="index.html" class="nav-link" id="nav-home">Home</a>
                <a href="traffic.html" class="nav-link" id="nav-traffic">Traffic</a>
                <a href="parking.html" class="nav-link" id="nav-parking">Parking</a>
                <a href="analytics.html" class="nav-link" id="nav-analytics">Analytics</a>
                <a href="admin.html" class="nav-link active" id="nav-admin">Admin</a>
                <a href="citizen.html" class="nav-link" id="nav-citizen">Citizens</a>
                <a href="about.html" class="nav-link" id="nav-about">About</a>
            </div>
            <div class="nav-actions"><button class="theme-toggle" id="themeToggle"><svg id="moonIcon"
                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
                    </svg><svg id="sunIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        style="display:none">
                        <circle cx="12" cy="12" r="5" />
                    </svg></button><button class="sos-btn" id="sosBtn">ğŸ†˜ SOS</button><button class="hamburger"
                    id="hamburger"><span></span><span></span><span></span></button></div>
        </div>
    </nav>
    <div id="sosModal" class="modal-overlay">
        <div class="modal sos-modal">
            <div class="sos-pulse"></div>
            <h2>ğŸš¨ Emergency SOS</h2>
            <p>Sending emergency alert...</p>
            <div class="sos-actions"><button class="btn btn-danger" onclick="callEmergency()">ğŸ“ Call
                    112</button><button class="btn btn-outline" onclick="closeSOS()">Cancel</button></div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal-overlay active" id="loginModal">
        <div class="modal" style="max-width:420px;text-align:center">
            <div style="font-size:3rem;margin-bottom:1rem">ğŸ”</div>
            <h2 style="margin-bottom:.5rem">Admin Login</h2>
            <p style="color:var(--text-muted);font-size:.9rem;margin-bottom:2rem">Solapur Smart City Control Center</p>
            <div class="form-group" style="text-align:left"><label class="form-label">Username</label><input
                    class="form-input" id="adminUser" value="admin" placeholder="admin" /></div>
            <div class="form-group" style="text-align:left"><label class="form-label">Password</label><input
                    class="form-input" type="password" id="adminPass" value="smc2025" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" /></div>
            <div id="loginError" style="color:var(--accent-red);font-size:.85rem;margin-bottom:.75rem;display:none">âŒ
                Invalid credentials</div>
            <button class="btn btn-primary" style="width:100%" onclick="adminLogin()">ğŸ”“ Login to Control
                Center</button>
            <p style="color:var(--text-muted);font-size:.75rem;margin-top:1rem">Demo: admin / smc2025</p>
        </div>
    </div>

    <div class="page-wrapper" id="adminContent" style="display:none">
        <div class="page-hero">
            <div class="container">
                <div class="page-hero-content">
                    <div>
                        <h1>âš™ï¸ Admin Control Center</h1>
                        <p>Centralized operation dashboard Â· Traffic Â· Parking Â· Complaints Â· Notifications</p>
                    </div>
                    <div class="page-hero-actions">
                        <span class="badge badge-online"><span class="live-dot"></span> Control Room Active</span>
                        <span class="live-clock badge badge-info">00:00:00</span>
                        <button class="btn btn-ghost btn-sm" onclick="adminLogout()">ğŸ”’ Logout</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="container" style="padding-top:2rem;padding-bottom:3rem">
            <!-- Quick Actions -->
            <div style="display:flex;gap:.75rem;flex-wrap:wrap;margin-bottom:2rem">
                <button class="btn btn-primary" onclick="showTab('traffic')">ğŸš¦ Traffic Control</button>
                <button class="btn btn-secondary" onclick="showTab('parking')">ğŸ…¿ï¸ Parking Mgmt</button>
                <button class="btn btn-ghost" onclick="showTab('complaints')">ğŸ“ Complaints</button>
                <button class="btn btn-ghost" onclick="showTab('notifications')">ğŸ”” Notifications</button>
                <button class="btn btn-ghost" onclick="showTab('reports')">ğŸ“Š Reports</button>
            </div>

            <!-- Traffic Control Panel -->
            <div id="tab-traffic">
                <div class="kpi-grid" style="margin-bottom:2rem">
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon">ğŸš¦</div><span class="kpi-change up">Live</span>
                        </div>
                        <div class="kpi-value" id="admVehicles">8,243</div>
                        <div class="kpi-label">Live Vehicle Count</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon">ğŸš¨</div><span class="kpi-change down">3 active</span>
                        </div>
                        <div class="kpi-value">3</div>
                        <div class="kpi-label">Active Incidents</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon">ğŸ“¡</div><span class="kpi-change neutral">Online</span>
                        </div>
                        <div class="kpi-value">427/432</div>
                        <div class="kpi-label">Sensors Online</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-icon">ğŸ¤–</div><span class="kpi-change up">AI On</span>
                        </div>
                        <div class="kpi-value">34</div>
                        <div class="kpi-label">AI-controlled Signals</div>
                    </div>
                </div>

                <!-- Signal Control Panel -->
                <div class="card" style="margin-bottom:1.5rem">
                    <div class="card-header">
                        <div class="card-title">ğŸš¦ Signal Override Control</div><span class="badge badge-warning">Admin
                            Only</span>
                    </div>
                    <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:1rem" id="adminSignals">
                        <!-- JS -->
                    </div>
                </div>

                <!-- CCTV Feeds -->
                <div class="card" style="margin-bottom:1.5rem">
                    <div class="card-header">
                        <div class="card-title">ğŸ“· CCTV Live Feeds (Simulated)</div><span
                            class="badge badge-online"><span class="live-dot"></span> 64 Cameras</span>
                    </div>
                    <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:.75rem" id="cctvGrid">
                        <!-- JS -->
                    </div>
                </div>
            </div>

            <!-- Parking Management Panel -->
            <div id="tab-parking" style="display:none">
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">ğŸ…¿ï¸ Parking Zone Control</div>
                        </div>
                        <div style="display:flex;flex-direction:column;gap:.75rem">
                            <div
                                style="display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:var(--bg-secondary);border-radius:10px">
                                <div>
                                    <div style="font-weight:600">Zone A â€” Market Area</div>
                                    <div style="font-size:.75rem;color:var(--text-muted)">80 slots Â· 28 free</div>
                                </div>
                                <div style="display:flex;gap:.5rem">
                                    <div class="switch on" onclick="this.classList.toggle('on')"></div>
                                </div>
                            </div>
                            <div
                                style="display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:var(--bg-secondary);border-radius:10px">
                                <div>
                                    <div style="font-weight:600">Zone B â€” Station Road</div>
                                    <div style="font-size:.75rem;color:var(--text-muted)">120 slots Â· 42 free</div>
                                </div>
                                <div class="switch on" onclick="this.classList.toggle('on')"></div>
                            </div>
                            <div
                                style="display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:var(--bg-secondary);border-radius:10px">
                                <div>
                                    <div style="font-weight:600">Zone C â€” Hospital Road</div>
                                    <div style="font-size:.75rem;color:var(--text-muted)">60 slots Â· 19 free</div>
                                </div>
                                <div class="switch on" onclick="this.classList.toggle('on')"></div>
                            </div>
                            <div
                                style="display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:var(--bg-secondary);border-radius:10px">
                                <div>
                                    <div style="font-weight:600">Zone D â€” Bus Stand</div>
                                    <div style="font-size:.75rem;color:var(--text-muted)">140 slots Â· 67 free</div>
                                </div>
                                <div class="switch on" onclick="this.classList.toggle('on')"></div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">ğŸ’° Revenue Summary</div>
                        </div>
                        <div style="display:flex;flex-direction:column;gap:.75rem">
                            <div
                                style="padding:1rem;background:rgba(34,197,94,.08);border:1px solid rgba(34,197,94,.2);border-radius:10px">
                                <div style="font-size:.75rem;color:var(--text-muted)">Today's Revenue</div>
                                <div style="font-family:var(--font-display);font-size:1.8rem;color:var(--accent-green)">
                                    â‚¹12,480</div>
                            </div>
                            <div
                                style="padding:1rem;background:rgba(0,212,255,.08);border:1px solid rgba(0,212,255,.2);border-radius:10px">
                                <div style="font-size:.75rem;color:var(--text-muted)">This Month</div>
                                <div style="font-family:var(--font-display);font-size:1.8rem;color:var(--accent-cyan)">
                                    â‚¹2,42,600</div>
                            </div>
                            <div
                                style="padding:1rem;background:rgba(245,158,11,.08);border:1px solid rgba(245,158,11,.2);border-radius:10px">
                                <div style="font-size:.75rem;color:var(--text-muted)">Fine Collections</div>
                                <div style="font-family:var(--font-display);font-size:1.8rem;color:var(--accent-amber)">
                                    â‚¹64,000</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Complaints Panel -->
            <div id="tab-complaints" style="display:none">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">ğŸ“ Citizen Complaint Management</div>
                        <div style="display:flex;gap:.5rem">
                            <select class="form-select" style="padding:.35rem .7rem;font-size:.8rem">
                                <option>All Status</option>
                                <option>Open</option>
                                <option>In Progress</option>
                                <option>Resolved</option>
                            </select>
                        </div>
                    </div>
                    <div style="overflow-x:auto">
                        <table class="data-table" id="complaintsTable">
                            <thead>
                                <tr>
                                    <th>#ID</th>
                                    <th>Type</th>
                                    <th>Location</th>
                                    <th>Reported By</th>
                                    <th>Date</th>
                                    <th>Priority</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="complaintsBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Notifications Panel -->
            <div id="tab-notifications" style="display:none">
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.5rem">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">ğŸ“¢ Send Citizen Alert</div>
                        </div>
                        <div class="form-group"><label class="form-label">Alert Type</label>
                            <select class="form-select" id="alertType">
                                <option>ğŸš¦ Traffic Update</option>
                                <option>ğŸš¨ Emergency Alert</option>
                                <option>ğŸ—ï¸ Road Work Notice</option>
                                <option>ğŸ‰ Event Traffic Advisory</option>
                                <option>ğŸ…¿ï¸ Parking Advisory</option>
                            </select>
                        </div>
                        <div class="form-group"><label class="form-label">Message</label><textarea class="form-textarea"
                                id="alertMsg" placeholder="Enter public alert message..."></textarea></div>
                        <div class="form-group"><label class="form-label">Target Area</label>
                            <select class="form-select">
                                <option>All Solapur</option>
                                <option>North Zone</option>
                                <option>Market Area</option>
                                <option>Station Road</option>
                            </select>
                        </div>
                        <button class="btn btn-primary" style="width:100%" onclick="sendAlert()">ğŸ“¡ Broadcast
                            Alert</button>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">ğŸ“‹ Recent Broadcasts</div>
                        </div>
                        <div style="display:flex;flex-direction:column;gap:.75rem" id="broadcastFeed"><!-- JS --></div>
                    </div>
                </div>
            </div>

            <!-- Reports Panel -->
            <div id="tab-reports" style="display:none">
                <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:1rem">
                    <div class="card" style="cursor:pointer;text-align:center"
                        onclick="downloadRep('Daily Traffic Report')">
                        <div style="font-size:2.5rem;margin-bottom:.75rem">ğŸ“ˆ</div>
                        <div style="font-weight:700;margin-bottom:.25rem">Daily Traffic Report</div>
                        <div style="font-size:.8rem;color:var(--text-muted);margin-bottom:1rem">24-hour summary with
                            peak analysis</div><span class="btn btn-primary btn-sm">â¬‡ï¸ Download PDF</span>
                    </div>
                    <div class="card" style="cursor:pointer;text-align:center"
                        onclick="downloadRep('Monthly Analytics')">
                        <div style="font-size:2.5rem;margin-bottom:.75rem">ğŸ“Š</div>
                        <div style="font-weight:700;margin-bottom:.25rem">Monthly Analytics</div>
                        <div style="font-size:.8rem;color:var(--text-muted);margin-bottom:1rem">30-day trends and AI
                            insights</div><span class="btn btn-secondary btn-sm">â¬‡ï¸ Download Excel</span>
                    </div>
                    <div class="card" style="cursor:pointer;text-align:center"
                        onclick="downloadRep('Violation Report')">
                        <div style="font-size:2.5rem;margin-bottom:.75rem">ğŸš¨</div>
                        <div style="font-weight:700;margin-bottom:.25rem">Violation Report</div>
                        <div style="font-size:.8rem;color:var(--text-muted);margin-bottom:1rem">All detected violations
                            with evidence</div><span class="btn btn-ghost btn-sm">â¬‡ï¸ Download CSV</span>
                    </div>
                    <div class="card" style="cursor:pointer;text-align:center" onclick="downloadRep('Parking Revenue')">
                        <div style="font-size:2.5rem;margin-bottom:.75rem">ğŸ’°</div>
                        <div style="font-weight:700;margin-bottom:.25rem">Parking Revenue</div>
                        <div style="font-size:.8rem;color:var(--text-muted);margin-bottom:1rem">Zone-wise collections
                            and forecasts</div><span class="btn btn-ghost btn-sm">â¬‡ï¸ Accounting CSV</span>
                    </div>
                    <div class="card" style="cursor:pointer;text-align:center"
                        onclick="downloadRep('IoT Health Report')">
                        <div style="font-size:2.5rem;margin-bottom:.75rem">ğŸ“¡</div>
                        <div style="font-weight:700;margin-bottom:.25rem">IoT Health Report</div>
                        <div style="font-size:.8rem;color:var(--text-muted);margin-bottom:1rem">Sensor uptime and
                            maintenance needs</div><span class="btn btn-ghost btn-sm">â¬‡ï¸ Download JSON</span>
                    </div>
                    <div class="card" style="cursor:pointer;text-align:center" onclick="downloadRep('Custom Report')">
                        <div style="font-size:2.5rem;margin-bottom:.75rem">âš™ï¸</div>
                        <div style="font-weight:700;margin-bottom:.25rem">Custom Report</div>
                        <div style="font-size:.8rem;color:var(--text-muted);margin-bottom:1rem">Build your own analytics
                            report</div><span class="btn btn-ghost btn-sm">Configure â†’</span>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="chatbot-widget" id="chatbotWidget">
        <div class="chatbot-header">
            <div class="chat-avatar">ğŸ¤–</div>
            <div>
                <div class="chat-name">TrafficBot AI</div>
                <div class="chat-status"><span class="live-dot"></span> Online</div>
            </div><button class="chat-close" onclick="toggleChatbot()">Ã—</button>
        </div>
        <div class="chatbot-messages" id="chatMessages">
            <div class="chat-msg bot">
                <div class="msg-bubble">Admin panel ready. All systems operational.</div>
            </div>
        </div>
        <div class="quick-replies"><button onclick="quickReply('signal status')">Signal Status</button><button
                onclick="quickReply('congestion')">Congestion</button></div>
        <div class="chatbot-input"><input type="text" id="chatInput" placeholder="Ask anything..."
                onkeypress="chatEnter(event)" /><button onclick="sendChat()"><svg viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <line x1="22" y1="2" x2="11" y2="13" />
                    <polygon points="22 2 15 22 11 13 2 9 22 2" />
                </svg></button></div>
    </div>
    <button class="chatbot-toggle" id="chatbotToggle" onclick="toggleChatbot()"><span class="chat-icon">ğŸ’¬</span><span
            class="chat-badge" id="chatBadge">1</span></button>

    <script src="js/main.js"></script>
    <script src="js/admin.js"></script>
</body>

</html>